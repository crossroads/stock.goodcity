<section class="main-section row edit-images-page">

  <div id="main-image" class="{{if isExpanded 'is-expanded'}}">
    {{#unless noImage}}
      <div style={{previewImageBgCss}}>
      </div>

      <div id="main-image-controls">
        <a {{action "deleteImage"}} title={{t "edit_images.delete_tooltip"}}>
          <i>{{fa-icon 'trash'}}</i>
        </a>
        <a {{action "setFavourite"}} title={{t "edit_images.favourite_tooltip"}}>
          <i>{{fa-icon (if previewMatchesFavourite 'star' 'star-o')}}</i>
        </a>
        <a {{action "rotateImageRight"}} >
          <i>{{fa-icon 'repeat'}}</i>
        </a>
        <a {{action "rotateImageLeft"}} >
          <i>{{fa-icon 'undo'}}</i>
        </a>
        <a {{action "expandImage"}} title={{t "edit_images.fullscreen_tooltip"}}>
          <i>{{fa-icon (if isExpanded 'compress' 'expand')}}</i>
        </a>
      </div>

    {{else}}
      <div class="center-box" style={{instructionBoxCss}}>
        <span class="center-item">
          <p>Add Some Photos</p>
        </span>
      </div>
    {{/unless}}
  </div>

  <ul id="photo-list" class="{{if isExpanded 'hidden'}}">
    <li>
      <a id="add-photo" {{action "triggerUpload"}} class="center-box {{unless isReady 'disabled'}}" style={{thumbImageCss}}>
        <span class="center-item">
          <i>{{fa-icon 'camera'}}</i>
          {{addPhotoLabel}}
        </span>
      </a>
      {{cloudinary-upload ready="uploadReady" progress="uploadProgress"
        always="uploadComplete" done="uploadSuccess" submit="uploadProgress"
        itemId=item.id}}
    </li>

    {{#each images as |image|}}
      <li>
        <a {{action "setPreview" image}} class="{{if image.selected 'selected'}}">
          <img src="{{image.thumbImageUrl}}" style={{thumbImageCss}} class="thumb" />
          <i class="{{if (js-x 'p0 == p1' image.id favouriteImage.id) '' 'hidden'}}">{{fa-icon 'star'}}</i>
        </a>
      </li>
    {{/each}}

  </ul>
</section>

<div class="btm {{if isExpanded 'hidden'}}">
  <div class="row">
    <div class="small-12 columns">
      <button {{ action "next"}} class="button expand">{{t "done"}}</button>
    </div>
  </div>
</div>
